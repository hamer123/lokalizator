<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

    <h:head>  
      <!-- <script src="https://raw.githubusercontent.com/HPNeo/gmaps/master/gmaps.js"/> -->
      <script src="https://maps.googleapis.com/maps/api/js"/>
    </h:head>  
      
    <h:body>  
       
       
         <p:gmap id="gmap" center="#{gmapView.location}" zoom="15" type="HYBRID" style="width:100%;height:400px" model="#{gmapView.emptyModel}"/>
         
         <p:separator/>
       
       <p:messages id="messages" showDetail="false" />
       
       <p:button value="Create polygon" outcome="polygon"/>
       
       <p:panel header="Dane">
         
         <h:form>     
         <p:panelGrid columns="4" >
         
           <p:outputLabel for="fromDate" value="From datetime:" />
           <p:calendar id="fromDate" value="#{gmapView.fromDate}" pattern="MM/dd/yyyy HH:mm:ss" />
        
           <p:outputLabel for="endDate" value="End datetime:" />
           <p:calendar id="endDate" value="#{gmapView.endDate}" pattern="MM/dd/yyyy HH:mm:ss" />
           
         </p:panelGrid>
         </h:form>
         
         <p:commandButton id="find" actionListener="#{gmapView.findLocations}" value="Find" style="margin-top: 20px" update="locations" />
         
    <p:dataTable var="loc" value="#{gmapView.locationList}" style="margin-top: 20px" id="locations">
    <p:column headerText="date">
        <h:outputText value="#{loc.date}" />
    </p:column>
 
    <p:column headerText="latitude">
        <h:outputText value="#{loc.latitude}" />
    </p:column>
 
    <p:column headerText="longitude">
        <h:outputText value="#{loc.longitude}" />
    </p:column>
 
 
    <p:column headerText="Display">
        <p:commandButton value="Show" actionListener="#{gmapView.changeLocation(loc.latitude, loc.longitude)}" update="gmap" />
    </p:column>
    </p:dataTable>
         
    </p:panel>

    </h:body>  
</html>
